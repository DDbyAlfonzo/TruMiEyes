(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{630:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(7876),r=s(4232),i=s(9099),n=s(8230),l=s.n(n),o=s(9917),u=s(2964),c=s(1249);function d(){let e=(0,i.useRouter)(),[a,s]=(0,r.useState)(""),[n,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),h=async e=>{let a=(0,u.H9)(c.db,"users",e.uid);(await (0,u.x7)(a)).exists()||await (0,u.BN)(a,{role:"client",email:e.email,createdAt:new Date})},x=async s=>{s.preventDefault(),m("");try{let s=(await (0,o.x9)(c.j2,a,n)).user;await h(s);let t=(0,u.H9)(c.db,"users",s.uid),r=(await (0,u.x7)(t)).data().role;"admin"===r?e.push("/admin"):e.push("/upload")}catch(e){m("Login failed: "+e.message)}};return(0,t.jsx)("div",{className:"overlay",children:(0,t.jsx)("div",{className:"container-wrapper",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("img",{src:"/trumieyeslogo.png",alt:"TruMiEyes Logo",className:"logo"}),(0,t.jsx)("h2",{children:"Login"}),(0,t.jsxs)("form",{onSubmit:x,children:[(0,t.jsx)("input",{type:"text",placeholder:"Email",value:a,onChange:e=>s(e.target.value),required:!0,autoComplete:"username"}),(0,t.jsx)("input",{type:"password",placeholder:"Password",value:n,onChange:e=>d(e.target.value),required:!0,autoComplete:"current-password"}),(0,t.jsx)("button",{type:"submit",children:"Login"})]}),p&&(0,t.jsx)("p",{style:{marginTop:"1rem",color:"white"},children:p}),(0,t.jsx)("hr",{}),(0,t.jsxs)("p",{style:{color:"white",marginTop:"1rem"},children:["Demo credentials:",(0,t.jsx)("br",{}),"Admin: admin@example.com / password",(0,t.jsx)("br",{}),"Client: client@example.com / password"]}),(0,t.jsx)(l(),{href:"/",children:(0,t.jsx)("button",{className:"back-button",style:{marginTop:"1rem"},children:"← Back to Home"})})]})})})}},1249:(e,a,s)=>{"use strict";s.d(a,{IG:()=>u,db:()=>c,j2:()=>o});var t=s(6042),r=s(9917),i=s(5226),n=s(2964);let l=(0,t.Dk)().length?(0,t.Dk)()[0]:(0,t.Wp)({apiKey:"AIzaSyXXXXX",authDomain:"trumieyes.firebaseapp.com",projectId:"trumieyes",storageBucket:"trumieyes.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdefg1234567"}),o=(0,r.xI)(l),u=(0,i.c7)(l),c=(0,n.aU)(l)},5794:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(630)}])}},e=>{e.O(0,[671,166,230,697,636,593,792],()=>e(e.s=5794)),_N_E=e.O()}]);